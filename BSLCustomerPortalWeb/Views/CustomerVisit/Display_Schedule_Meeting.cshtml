
@{
    ViewBag.Title = "Display_Schedule_Meeting";
}

<style>
    .modal-backdrop {
        z-index: 1000;
    }
</style>

<script src="~/Web/js/SearchCustomer.js"></script>
<script type="text/javascript">

    $(document).ready(function () {

        var currdate = new Date();
        var currmonth = currdate.getMonth() + 1;
        var currYear = currdate.getFullYear();

        Fn_Get_Calender();

        $("#btnUpdte").hide();

        var h = currdate.getHours();
        var tzone = h >= 12 ? "PM" : "AM";
        h = h % 12;
        h = h ? h : 12;
        h = (h < 10) ? ("0" + h) : h;

        var m = currdate.getMinutes();
        m = (m < 10) ? ("0" + m) : m;

        var s = currdate.getSeconds();
        s = (s < 10) ? ("0" + s) : s;

        function getCurrentMonthYear(date) {
            var month = date.toLocaleString('en-us', { month: 'long' });
            var year = date.getFullYear();
            return month + ', ' + year;
        }

        var currentDate = new Date();
        $('#txtMonth').val(currentDate.toISOString().slice(0, 7));

        $('#txtMonth').attr('placeholder', getCurrentMonthYear(currentDate));

        $('#txtMonth').change(function () {
            var selectedDate = new Date($(this).val());
            var formattedDate = getCurrentMonthYear(selectedDate);
            $(this).attr('placeholder', formattedDate);
        });


        $('#txtMeetingDate').datepicker({
            dateFormat: 'dd-mm-yy' + " " + h + ":" + m + ":" + s,
        });

        $("#txtMeetingDate").datepicker("setDate", new Date());

        $('#txtScheduleDate').datepicker({
            dateFormat: 'dd-mm-yy' + "' " + h + ":" + m + ":" + s + "'" + " '" + tzone + "'",
            minDate: 0
            //dateFormat: 'dd-mm-yy' + " " + h + ":" + m + ":" + s,
            //minDate: 0
        });

        $("#txtScheduleDate").datepicker("setDate", new Date());

        const urlParams = new URLSearchParams(window.location.search);
        const prmMeetingId = urlParams.get('mId');
        var _MeetingId = sessionStorage.getItem("MeetingId");

        if (prmMeetingId != 0 && prmMeetingId != null) {
            if (prmMeetingId != _MeetingId) {
                swal("", "Invalid Meeting Id", "error");
                return;
            }
            else {
                Fn_Fill_CustomerVisit(prmMeetingId);
            }
        }

    });


    function Fn_Get_Calender() {

        var currdate = new Date();
        var currmonth = currdate.getMonth()+1;
        var currYear = currdate.getFullYear();

        if ($("#txtMonth").val() == "") {
            currmonth = currYear + "-" + currmonth;
        }
        else {
            currmonth = $("#txtMonth").val();
        }

        var date = new Date(currmonth);
        var firstDay = new Date(date.getFullYear(), date.getMonth(),);
        var lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0);

        $("#tbody").html('');
        var html = '';
            while (firstDay <= lastDay) {
                html += "<tr>"
                var d = 1;
                var WDay = firstDay.getDay();
                for (d; d <= WDay; d++) {
                    html += "<td></td>"
                }
                for (d; d <= 7; d++)
                {
                    html += "<td>" + firstDay.getDate() + "<span class='text-danger pull-right 2x' id=td_" + firstDay.getDate() + "></span></td>"
                    firstDay = new Date(firstDay.getFullYear(), firstDay.getMonth(), firstDay.getDate() + 1);
                    if (firstDay > lastDay)
                    {
                        for (d; d <= 6; d++)
                        {
                                html += "<td></td>"
                        }
                            break;
                    }
                }
                html += "</tr>"
            }
        $("#tbody").append(html);
        Fn_Fetch_Schedule_Meeting_Month_wise();
    }

    function Fn_Fetch_Schedule_Meeting_Month_wise() {

        var clsReqScheduleMeeting = {};
        clsReqScheduleMeeting.vErrorMsg = "";
        clsReqScheduleMeeting.nLoginId = $('#strUserId').val();

        var _month = $('#txtMonth').val();
        var _currYear = new Date().getFullYear();
        var _currMonth = new Date().getMonth() + 1;

        if ($('#txtMonth').val() == "")
        {
            _month = _currYear + "-" + _currMonth;
        }
        clsReqScheduleMeeting.vYear = _month.substring(0, 4);
        clsReqScheduleMeeting.vMonth = _month.substring(5, 7);

        var clsRespScheduleMeeting = {};
        clsRespScheduleMeeting.vStatus = "";

        if (clsReqScheduleMeeting.vMonth != "") {
            $.ajax({
                type: "POST",
                url: '/CustomerVisit/Fn_Fetch_Schedule_Meeting_Month_wise',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: JSON.stringify(clsReqScheduleMeeting),
                success: function (data) {
                    var obj = JSON.parse(data.message)
                    if (obj[0].vErrorMsg == "Success") {
                        for (var i = 0; i < obj.length; i++) {
                            var _day = obj[i].vMeetingDate;
                            _day = _day.substring(0, 2);
                            _day = Number(_day);
                            if (obj[i].vStatus == "Open") {
                                var _count = "<a href='@Url.Action("CustomerMeetingListDetail", "CustomerVisit")?MeetingId=" + obj[i].nMeetingId + "'><i class='fa fa-star p-1' style='color:green;' title='" + obj[i].vCustomerName + "'></i></a>";
                            }
                            else if (obj[i].vStatus == "Schedule") {
                                var _count = "<a href='@Url.Action("CustomerMeetingListDetail", "CustomerVisit")?MeetingId=" + obj[i].nMeetingId + "'><i class='fa fa-star p-1' style='color:blue;' title='" + obj[i].vCustomerName + "'></i></a>";
                            }
                            else if (obj[i].vStatus == "Closed") {
                                var _count = "<a href='@Url.Action("CustomerMeetingListDetail", "CustomerVisit")?MeetingId=" + obj[i].nMeetingId + "'><i class='fa fa-star p-1' style='color:red;' title='" + obj[i].vCustomerName + "'></i></a>";
                            }
                            else {
                            }
                            $("#td_" + _day).append(_count);
                        }
                    }
                },
                error: function (err) {
                    // swal("", err, "error");
                }
            });
        }
    }


    function Fn_Fill_CustomerVisit(MeetingId) {

        var clsCustomerVisitor = {};
        clsCustomerVisitor.nLoginId = $("#strUserId").val();
        clsCustomerVisitor.MeetingId = MeetingId;

        $.ajax({
            type: "POST",
            url: "/CustomerVisit/Fn_Get_Meeting_List",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: JSON.stringify(clsCustomerVisitor),
            success: function (data) {
                var obj = JSON.parse(data.message)
                if (obj.vErrorMsg == 'success') {

                    $("#txtCustomerName").val(obj.vCustomerName);
                    $("#txtCustomerName").prop("readonly", true);
                    $("#txtEmail").val(obj.vEmailId);
                    $("#txtEmail").prop("readonly", true);
                    $("#txtMobile").val(obj.vMobile);
                    $("#txtMobile").prop("readonly", true);
                    $("#txtAddress1").val(obj.vAddress1);
                    $("#txtAddress1").prop("readonly", true);
                    $("#txtState").val(obj.vState);
                    $("#txtState").prop("readonly", true);
                    $("#txtStatus").val(obj.vStatus);
                    $("#txtStatus").prop("readonly", true);
                    $("#txtCity").val(obj.vCity);
                    $("#txtCity").prop("readonly", true);
                    $("#txtPinCode").val(obj.vPinCode);
                    $("#txtPinCode").prop("readonly", true);
                    $("#txtCompanyName").val(obj.vCompanyName);
                    $("#txtCompanyName").prop("readonly", true);
                    $("#txtMeetingVenue").val(obj.vMeetingVenue);
                    $("#txtBreifDiscussion").val(obj.vMeetingCommunication);
                    $("#txtCommunication").val(obj.vMeetingCommunication);
                    $("#txtPurposeVisit").val(obj.vMeetingPurposevisit);
                    //$('#txtMeetingDate').datepicker({ dateFormat: 'dd-M-yy' }).val(obj.vMeetingDate);
                    $('#txtMeetingDate').datepicker({ dateFormat: 'dd-M-yy hh:mm:ss' }).val(obj.vMeetingDate);
                    //$('#txtMeetingDate').datetimepicker({ format: 'dd-M-yy hh:mm' }).val(obj.vMeetingDate);
                    $("#pMeetingId").html('Meeting Id :' + clsCustomerVisitor.MeetingId);

                    $("#custdetails").show();
                    $("#meetingdetails").show();

                    $("#_heading").html('Edit Customer Visit');
                    $("#btnSubmit").hide();
                    $("#btnUpdte").show();
                    let arr = obj.oProductList;
                    var html = '';
                    var imgPath = ""

                    for (var i = 0; i < arr.length; i++) {
                        if (arr[i].vProductCategory == "Yarn") {
                            imgPath = "/web/Images/yarn/" + arr[i].vMaterialCode + ".jpeg";
                        }
                        if (arr[i].vProductCategory == "Fabric") {
                            imgPath = "/web/Images/fabric/" + arr[i].vMaterialCode + ".jpeg";
                        }
                        if (arr[i].vProductCategory == "Garments") {
                            imgPath = "/web/Images/garments/" + arr[i].vMaterialCode + ".jpeg";
                        }
                        html += "<tr><td>" + arr[i].vProductCategory + "</td>";
                        html += "<td>" + arr[i].vMaterialCode + "</td>";
                        html += "<td><img class='image' src='" + imgPath + "' /></td>";
                        html += "<td class='scancode'>" + arr[i].vScanCode + "</td>";
                        html += "<td><i class='fa fa-trash fa-2x text-danger delete' style='color:red; mrgin-left: 20px;'></i></td></tr>";
                    }
                    $("#dvList").append(html);

                }
                else {
                    swal("", obj.vErrorMsg, "error");
                }
            },
            error: function (err) {
                alert(err);
            }
        });
    }



    function Fn_Get_Customer_By_Email(_id) {

        var clsCustomerVisitor = {};
        if (_id == "1")
        {
            clsCustomerVisitor.vEmailId = $("#txtEmail1").val().trim();
        }
        else
        {
            clsCustomerVisitor.vEmailId = $("#txtEmail").val().trim();
        }

        clsCustomerVisitor.nLoginId = $("#strUserId").val();

        $.ajax({
            type: "POST",
            url: "/CustomerVisit/Fn_Get_Customer_By_Email",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: JSON.stringify(clsCustomerVisitor),
            success: function (data) {
                var obj = JSON.parse(data.message)
                if (obj.vErrorMsg == 'Success') {
                    $("#txtCustomerName" + _id).val(obj.vCustomerName);
                    $("#txtCustomerName" + _id).prop("readonly", true);
                    $("#txtEmail" + _id).val(obj.vEmailId);
                    $("#txtEmail" + _id).prop("readonly", true);
                    $("#txtMobile" + _id).val(obj.vMobile);
                    $("#txtMobile" + _id).prop("readonly", true);
                    $("#txtAddress1" + _id).val(obj.vAddress1);
                    $("#txtAddress1" + _id).prop("readonly", true);
                    $("#txtState" + _id).val(obj.vState);
                    $("#txtState" + _id).prop("readonly", true);
                    $("#txtCity" + _id).val(obj.vCity);
                    $("#txtCity" + _id).prop("readonly", true);
                    $("#txtPinCode" + _id).val(obj.vPinCode);
                    $("#txtPinCode" + _id).prop("readonly", true);
                    $("#txtCompanyName" + _id).val(obj.vCompanyName);
                    $("#txtCompanyName" + _id).prop("readonly", true);
                    $("#txtMeetingVenue").val(obj.vMeetingVenue);
                    $("#txtMeetingDate").val(obj.vMeetingDate);
                    $("#strMeetingID").val(obj.MeetingId);
                }
                //else {
                //    swal("", obj.vErrorMsg, "error");
                //}
            },
            error: function (err) {
                swal("", err, "error");
            }
        });
    }


    function Fn_ResetField() {
        $("#txtCustomerName1").val("");
        $("#txtEmail1").val("");
        $("#txtMobile1").val("");
        $("#txtCompanyName1").val("");
        $("#txtAddress11").val("");
        $("#txtCity1").val("");
        $("#txtState1").val("");
        $("#txtPinCode1").val("");
        //$("#txtScheduleDate").val("");
        $("#txtScheduleVenue").val("");
        $("#txtPurposeVisit").val("");
    }


    function Fn_Schedule_Customer_Meeting() {
        var clsCustomerVisitor = {};
        clsCustomerVisitor.vErrorMsg = "";
        clsCustomerVisitor.nLoginId = $('#strUserId').val();
        clsCustomerVisitor.vCustomerName = $("#txtCustomerName1").val();
        if (clsCustomerVisitor.vCustomerName == "") {
            clsCustomerVisitor.vErrorMsg = "Customer Name is empty.";
            swal("", clsCustomerVisitor.vErrorMsg, "error");
            return;
        }
        clsCustomerVisitor.vEmailId = $("#txtEmail1").val();
        if (clsCustomerVisitor.vEmailId == "") {
            clsCustomerVisitor.vErrorMsg = "EmailId is empty.";
            swal("", clsCustomerVisitor.vErrorMsg, "error");
            return;
        }
        clsCustomerVisitor.vMobile = $("#txtMobile1").val();
        if (clsCustomerVisitor.vMobile == "") {
            clsCustomerVisitor.vErrorMsg = "Mobile Number is empty.";
            swal("", clsCustomerVisitor.vErrorMsg, "error");
            return;
        }
        clsCustomerVisitor.vCompanyName = $("#txtCompanyName1").val();
        if (clsCustomerVisitor.vCompanyName == "") {
            clsCustomerVisitor.vErrorMsg = "Company Name is empty.";
            swal("", clsCustomerVisitor.vErrorMsg, "error");
            return;
        }
        clsCustomerVisitor.vAddress1 = $("#txtAddress11").val();
        if (clsCustomerVisitor.vAddress1 == "") {
            clsCustomerVisitor.vErrorMsg = "Address is empty.";
            swal("", clsCustomerVisitor.vErrorMsg, "error");
            return;
        }
        clsCustomerVisitor.vCity = $("#txtCity1").val();
        if (clsCustomerVisitor.vCity == "") {
            clsCustomerVisitor.vErrorMsg = "City is empty.";
            swal("", clsCustomerVisitor.vErrorMsg, "error");
            return;
        }
        clsCustomerVisitor.vState = $("#txtState1").val();
        if (clsCustomerVisitor.vState == "") {
            clsCustomerVisitor.vErrorMsg = "State is empty.";
            swal("", clsCustomerVisitor.vErrorMsg, "error");
            return;
        }
        clsCustomerVisitor.vPinCode = $("#txtPinCode1").val();
        if (clsCustomerVisitor.vPinCode == "") {
            clsCustomerVisitor.vErrorMsg = "PinCode is empty.";
            swal("", clsCustomerVisitor.vErrorMsg, "error");
            return;
        }
        clsCustomerVisitor.vMeetingDate = $("#txtScheduleDate").val().trim();
        if (clsCustomerVisitor.vMeetingDate == "") {
            clsCustomerVisitor.vErrorMsg = "Schedule Date is empty.";
            swal("", clsCustomerVisitor.vErrorMsg, "error");
            return;
        }
        clsCustomerVisitor.vMeetingVenue = $("#txtScheduleVenue").val().trim();
        if (clsCustomerVisitor.vMeetingVenue == "") {
            clsCustomerVisitor.vErrorMsg = "Schedule Venue is empty.";
            swal("", clsCustomerVisitor.vErrorMsg, "error");
            return;
        }
        clsCustomerVisitor.vMeetingPurposevisit = $("#txtPurposeVisit").val().trim();
        if (clsCustomerVisitor.vMeetingPurposevisit == "") {
            clsCustomerVisitor.vErrorMsg = "Purpose of Visit is empty.";
            swal("", clsCustomerVisitor.vErrorMsg, "error");
            return;
        }

       // clsCustomerVisitor.oScheduleMeeting = clsScheduleMeeting;

        if (clsCustomerVisitor.vErrorMsg == "") {
            $.ajax({
                type: "POST",
                url: '/CustomerVisit/Fn_Schedule_Customer_Meeting',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: JSON.stringify(clsCustomerVisitor),
                beforeSend: function () {
                    $("#loader").show();
                },
                success: function (data) {
                    var obj = JSON.parse(data.message);
                    if (obj.vErrorMsg == 'Success') {
                        swal("","Meeting " + obj.MeetingId + " Scheduled.", "success");
                        Fn_ResetField();
                        $("#myModal_scheduleMeeting").modal('hide');
                        Fn_Get_Calender();
                    }
                    else {
                        swal("", obj.vErrorMsg, "error");
                    }
                },
                complete: function (data) {
                    $("#loader").hide();
                },
                error: function (err) {
                    swal("", err, "error");
                }
            });
        }
    }

    function Fn_CloseModal() {
        $("#txtCustomerName1").val("");
        $("#txtCustomerName1").prop("readonly", false);
        $("#txtEmail1").val("");
        $("#txtEmail1").prop("readonly", false);
        $("#txtMobile1").val("");
        $("#txtMobile1").prop("readonly", false);
        $("#txtCompanyName1").val("");
        $("#txtCompanyName1").prop("readonly", false);
        $("#txtAddress11").val("");
        $("#txtAddress11").prop("readonly", false);
        $("#txtCity1").val("");
        $("#txtCity1").prop("readonly", false);
        $("#txtState1").val("");
        $("#txtState1").prop("readonly", false);
        $("#txtPinCode1").val("");
        $("#txtPinCode1").prop("readonly", false);
        $("#txtScheduleVenue").val("");
        $("#txtScheduleVenue").prop("readonly", false);
        $("#txtPurposeVisit").val("");
        $("#txtPurposeVisit").prop("readonly", false);
    }

</script>
<style>
    .table tbody tr td {
        padding: 30px 10px;
        border-collapse: collapse;
        overflow: hidden;
        table-layout: fixed;
    }
</style>

<section id="contact-page" class="pt-10 pb-10 gray-bg">
    <div class="container">
        <div class="row">
            <!-- Breadcrumb Begin -->
            <div class="col-lg-12">
                <div class="shop-top-search">
                    <div class="shop-bar">
                        <ul class="nav" id="myTab" role="tablist">
                            <li class="nav-item">
                                <a href="@Url.Action("DashBoard", "Home" )"><i class="fa fa-home"></i> Home</a>
                            </li>
                            <li class="nav-item" style="margin-left:-3%;font-size:16px;">
                                / Client Meeting
                            </li>
                            @*<li class="nav-item" style="margin-left:-3%;font-size:16px;">
                                / Client Meeting
                            </li>*@
                        </ul>
                    </div>
                </div>
            </div>
            <!-- Breadcrumb End -->
        </div> <!-- row -->
    </div> <!-- container -->
</section>


<section id="contact-page" class="pt-10 pb-10 gray-bg">
    <div class="container">
        <div class="contact-from" style="padding: 25px">
            <div class="main-form">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="row mt-3">
                            <div class="col-sm-2">
                                <label class="form-control-sm pull-right">Select Month</label>
                            </div>
                            <div class="col-sm-3">
                                <input type="month" id="txtMonth" name="txtMonth" class="form-control" onchange="Fn_Get_Calender();" />
                            </div>
                            <div class="col-sm-2">
                                <button type="button" class="btn btn-link pull-left" style="color: #08417b;" data-toggle="modal" data-target="#myModal_scheduleMeeting"><i class="fa fa-plus"></i> New Meeting</button>
                            </div>
                            <div class="col-sm-5">
                                <label class="form-control-sm pull-left"><i class="fa fa-star p-1" style="color:green;"></i>Open</label>
                                <label class="form-control-sm pull-left"><i class="fa fa-star p-1" style="color:blue;"></i>Schedule</label>
                                <label class="form-control-sm pull-left"><i class="fa fa-star p-1" style="color:red;"></i>Closed</label>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-sm-12">
                                <table class="table table-bordered">
                                    <thead style="background-color: #08417B; color: white;">
                                        <tr>
                                            <td style="width: 150px;">Sun</td>
                                            <td style="width: 150px;">Mon</td>
                                            <td style="width: 150px;">Tue</td>
                                            <td style="width: 150px;">Wed</td>
                                            <td style="width: 150px;">Thu</td>
                                            <td style="width: 150px;">Fri</td>
                                            <td style="width: 150px;">Sat</td>
                                        </tr>
                                    </thead>
                                    <tbody id="tbody">
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>

                </div> <!-- row -->
            </div> <!-- main form -->
        </div> <!--  contact from -->
        
        <!--<div class="row mt-3">
        </div>

        <div class="row">
        </div>-->
        <!-- row -->

    </div> <!-- container -->

    <div id="myModal_scheduleMeeting" class="modal fade" role="dialog">
        <div class="modal-dialog modal-lg">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">

                    <h4 class="modal-title">Schedule Meeting</h4>
                    <button type="button" class="close" data-dismiss="modal" onclick="Fn_CloseModal();">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="container" style="margin-top:1%;">
                        <div class="row">
                            <div class="col-sm-3">
                                <div class="form-group">
                                    <label for="txtCompanyName1" class="form-label">Company Name</label>
                                    <input type="text" id="txtCompanyName1" class="form-control" style="font-size: 12px;" name="txtCompanyName1" tabindex="4" />
                                </div>

                                <div class="form-group">
                                    <label for="txtAddress11" class="form-label">Address</label>
                                    <input type="text" id="txtAddress11" class="form-control" style="font-size: 12px;" name="txtAddress11" tabindex="5" />
                                </div>
                            </div>

                            <div class="col-sm-3">
                                <div class="form-group">
                                    <label for="txtEmail1" class="form-label">Email</label>
                                    <input type="text" id="txtEmail1" class="form-control" onchange="Fn_Get_Customer_By_Email('1');" style="font-size: 12px;" name="txtEmail1" tabindex="2" />
                                </div>

                                <div class="form-group">
                                    <label for="txtCity1" class="form-label">City</label>
                                    <input type="text" id="txtCity1" class="form-control" style="font-size: 12px;" name="txtCity1" tabindex="6" />
                                </div>
                            </div>

                            <div class="col-sm-3">
                                <div class="form-group">
                                    <label for="txtMobile1" class="form-label">Mobile No</label>
                                    <input type="text" id="txtMobile1" class="form-control" style="font-size: 12px;" name="txtMobile1" tabindex="3" maxlength="10" minlength="10" />
                                </div>

                                <div class="form-group">
                                    <label for="txtState1" class="form-label">State</label>
                                    <input type="text" id="txtState1" class="form-control" style="font-size: 12px;" name="txtState1" tabindex="7" />
                                </div>
                            </div>

                            <div class="col-sm-3">
                                <div class="form-group">
                                    <label for="txtCustomerName1" class="form-label">Contact Person</label>
                                    <input type="text" id="txtCustomerName1" class="form-control" style="font-size: 12px;" name="txtCustomerName1" tabindex="1" />
                                </div>

                                <div class="form-group">
                                    <label for="txtPinCode1" class="form-label">PIN Code</label>
                                    <input type="text" id="txtPinCode1" class="form-control" style="font-size: 12px;" name="txtPinCode1" tabindex="8" />
                                </div>
                            </div>

                        </div>
                    </div>
                    <hr />
                    <div class="container" style="margin-top:1%;">
                        <div class="row">
                            <div class="col-sm-4">
                                <div class="form-group">
                                    <label for="txtScheduleDate" class="form-label">Meeting Date & Time</label>
                                    <input type="text" id="txtScheduleDate" class="form-control" style="font-size: 12px;" name="txtScheduleDate" tabindex="9" />
                                    @*<input type="datetime-local" id="txtScheduleDate" class="form-control" style="font-size: 12px;" name="txtScheduleDate" tabindex="9" />*@
                                </div>
                            </div>

                            <div class="col-sm-4">
                                <div class="form-group">
                                    <label for="txtScheduleVenue" class="form-label">Meeting Location</label>
                                    <input type="text" id="txtScheduleVenue" class="form-control" style="font-size: 12px;" name="txtScheduleVenue" tabindex="10" />
                                </div>
                            </div>

                            <div class="col-sm-4">
                                <div class="form-group">
                                    <label for="txtPurposeVisit" class="form-label">Purpose of Visit</label>
                                    <input type="text" id="txtPurposeVisit" class="form-control" style="font-size: 12px;" name="txtPurposeVisit" tabindex="11" />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">

                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <img src="~/Web/Images/loading.gif?timestamp(~/Web/Images/loading.gif)" id="loader" width="5%" style="display:none;margin-left:40%;align-content:center;" />
                    <input type="submit" id="btnSave" name="btnSave" onclick="Fn_Schedule_Customer_Meeting();" value="Save" class="btn btn-outline-primary" />
                    <button type="button" class="btn btn-outline-secondary" data-dismiss="modal" id="CloseModal" onclick="Fn_CloseModal();">Close</button>
                </div>
            </div>

        </div>
    </div>

</section>
